---
title:  自定义组件和模板
date:  2019-05-30 15：30
tags:
---

### template

- template主要是展示，方法需要在调用的页面中定义。而component组件则有自己的业务逻辑，可以看做一个独立的page页面。简单来说，如果只是展示，使用template就足够了，如果涉及到的业务逻辑交互比较多，那就最好使用component组件了。

1. 单独创建template目录 比如order-demo > order-demo.wxml order-demo.wxss

2. order-demo.wxml文件可以同时写多个模板 用name区分开

        <template name="child-order"></template>

3. 页面引入

        <import src ="../template/order-demo/order-demo.wxml" />
         <view>
            <template is="child-order"></template>
        </view>

### component组件

1. 新建component目录——创建子目录 由4个文件构成，与page类似，但是js文件和json文件与页面不同。

2. js文件

            Component({
            /**组件的属性列表*/
            properties: {
                item: {
                type: Object,
                }
            },
            /**组件的初始数据*/
            data: {
                distance: '',
                goods: [],
                showDetail: true,
                jumpUrl:'',
            },
            ready() {
                if (this.properties.item.goods) {
                this.properties.item.goods.forEach(element => {
                    element.price = Number.parseFloat(element.price).toFixed(2)
                });
                }
            },
            /**组件的方法列表*/
            methods: {
                //展开活动
                openDetail(e) {
                wx.navigateTo({
                    url: '/pages/user/coupon/coupon'
                })
                }
            }
            })

3.json文件

        {
        "component": true,
        "usingComponents": {}
        }

4.组件引用

    页面中引用组件需要在json配置文件中进行配置

        {
        "navigationBarTitleText": "模板demo",
        "usingComponents": {
            "demo": "../../components/demo/index" 
        }
        }

5.使用 在模板文件中进行使用就可以了，其中name的值为json配置文件中usingComponents的键值 

     <demo name="comp" />